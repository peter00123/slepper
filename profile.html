<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>

      <div class="profile">
      <img class="profileimg" src="assets/bg1.jpg" >
      <h2>name</h2>
      <h2>mail</h2>
      <h2>gender</h2>
    </div>
    <div class="bottom-nav">
      <div class="nav-item" onclick="navigateTo('mainpage.html')">
        <img class="icon" src="assets/home.png" alt="Home Icon" />
        <span>Home</span>
      </div>
      <div class="nav-item" onclick="navigateTo('analysis.html')">
        <img class="icon" src="assets/analysys.png" alt="Analysis Icon" />
        <span >Analysis</span>
      </div>
      <div class="nav-item" >
        <i class="fas fa-plus-circle icon"></i>
        <span>Add</span>
      </div>
      <div class="nav-item" >
        <img class="icon" src="assets/userglow.png" alt="Profile Icon" />
        <span style="color: aqua;">Profile</span>
      </div>
    </div></div>
    <div>
      <button id="logout">Logout</button>
    </div>

    </div>
  </body>
  <script>
    function navigateTo(page) {
          console.log(page);
          window.location.href = page; // Navigate to the specified page
      };
  </script>
  <script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
      import {
        getAuth,
        onAuthStateChanged,
        signOut,
      } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";
      import { getFirestore } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";
      import {
        doc,
        getDoc,
        setDoc,
        collection,
      } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

      // Your web app's Firebase configuration
      const firebaseConfig = {
    apiKey: "AIzaSyCnImhv11CepvfX4pSIsNwKbCPwu6df_6Q",
    authDomain: "sleeper-ad2ef.firebaseapp.com",
    projectId: "sleeper-ad2ef",
    storageBucket: "sleeper-ad2ef.firebasestorage.app",
    messagingSenderId: "319629128838",
    appId: "1:319629128838:web:a9ca546bcf2acfd6160d07"
  };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const db = getFirestore(app);
      const user = auth.currentUser;
      console.log(db);
      //////////////////////

      
      onAuthStateChanged(auth, (user) => {
        console.log('on fun')
        
        if (user) {
          document.getElementById('user-info').innerText = `Welcome, ${user.email}!`;
          const userId = user.uid; // This is the user ID
                console.log('User  ID:', userId);
        } else {
          window.location.herf = "register.html";
        }
        
      });

     


    document.getElementById("logout").addEventListener("click", () => {
        auth
          .signOut()
          .then(() => {
            window.location.href = "login.html";
          })
          .catch((error) => {
            console.error("Error signing out: ", error);
          });
      });

      console.log(app); // Should not be null
      console.log(db); // Should not be null

  </script>
</html>
